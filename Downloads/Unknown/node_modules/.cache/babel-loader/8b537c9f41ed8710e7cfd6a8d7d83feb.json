{"ast":null,"code":"import _objectSpread from \"/Users/godploy/Downloads/Unknown/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/godploy/Downloads/Unknown/src/App.js\";\nimport React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport \"./styles.css\";\nconst NUM_ROWS = 4;\nconst NUM_COLS = 3;\nconst PIECE_SIZE = 80; // ขนาดชิ้นจิ๊กซอว์ที่เล็กลง\n\nconst createGrid = () => Array.from({\n  length: NUM_ROWS * NUM_COLS\n}, (_, index) => ({\n  id: index,\n  targetX: index % NUM_COLS * PIECE_SIZE,\n  targetY: Math.floor(index / NUM_COLS) * PIECE_SIZE,\n  initialX: 400 + Math.random() * 50,\n  initialY: 250 + Math.random() * 50,\n  locked: false,\n  // 🔥 เพิ่มตัวแปรเพื่อเช็คว่าถูกล็อคหรือยัง\n  image: \"/img/puzzle/piece\".concat(index + 1, \".png\")\n}));\nexport default function App() {\n  const [pieces, setPieces] = useState(createGrid());\n  const handleDragEnd = (event, info, piece) => {\n    const target = pieces.find(p => p.id === piece.id);\n    console.log(\"\\uD83D\\uDFE2 Piece \".concat(piece.id, \" Dragged to:\"), {\n      draggedX: info.point.x,\n      draggedY: info.point.y,\n      targetX: target.targetX,\n      targetY: target.targetY\n    });\n    if (Math.abs(info.point.x - target.targetX) < PIECE_SIZE * 0.75 && Math.abs(info.point.y - target.targetY) < PIECE_SIZE * 0.75) {\n      setPieces(prev => prev.map(p => p.id === piece.id ? _objectSpread(_objectSpread({}, p), {}, {\n        initialX: target.targetX,\n        initialY: target.targetY,\n        locked: true\n      }) : p));\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"board\",\n    style: {\n      position: \"relative\",\n      width: \"100vw\",\n      height: \"100vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, pieces.map(piece => /*#__PURE__*/React.createElement(\"div\", {\n    key: \"target-\".concat(piece.id),\n    className: \"target\",\n    style: {\n      left: piece.targetX,\n      top: piece.targetY,\n      width: PIECE_SIZE,\n      height: PIECE_SIZE,\n      position: \"absolute\",\n      border: \"2px dashed #ccc\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  })), pieces.map(piece => /*#__PURE__*/React.createElement(motion.div, {\n    key: \"piece-\".concat(piece.id),\n    className: \"piece\",\n    style: {\n      position: \"absolute\",\n      cursor: piece.locked ? \"default\" : \"grab\"\n    },\n    drag: !piece.locked // ✅ ล็อคชิ้นส่วนถ้าลากไปวางแล้ว\n    ,\n    dragElastic: 0.5,\n    initial: {\n      x: piece.initialX,\n      y: piece.initialY\n    },\n    animate: {\n      x: piece.initialX,\n      y: piece.initialY\n    } // ✅ ใช้ค่าที่อัปเดตล่าสุด\n    ,\n    onPointerDown: event => event.preventDefault() // ป้องกัน Safari ลากรูปออก\n    ,\n    onDragStart: event => event.preventDefault() // ป้องกันการดึงรูปออกจากเว็บ\n    ,\n    onDragEnd: (event, info) => handleDragEnd(event, info, piece),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: piece.image,\n    alt: \"piece-\".concat(piece.id),\n    style: {\n      width: \"\".concat(PIECE_SIZE, \"px\"),\n      // ✅ กำหนดขนาดเป็นสัดส่วน\n      height: \"\".concat(PIECE_SIZE, \"px\"),\n      objectFit: \"contain\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"names":["React","useState","motion","NUM_ROWS","NUM_COLS","PIECE_SIZE","createGrid","Array","from","length","_","index","id","targetX","targetY","Math","floor","initialX","random","initialY","locked","image","concat","App","pieces","setPieces","handleDragEnd","event","info","piece","target","find","p","console","log","draggedX","point","x","draggedY","y","abs","prev","map","_objectSpread","createElement","className","style","position","width","height","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","key","left","top","border","div","cursor","drag","dragElastic","initial","animate","onPointerDown","preventDefault","onDragStart","onDragEnd","src","alt","objectFit"],"sources":["/Users/godploy/Downloads/Unknown/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport \"./styles.css\";\n\nconst NUM_ROWS = 4;\nconst NUM_COLS = 3;\nconst PIECE_SIZE = 80; // ขนาดชิ้นจิ๊กซอว์ที่เล็กลง\n\nconst createGrid = () =>\n  Array.from({ length: NUM_ROWS * NUM_COLS }, (_, index) => ({\n    id: index,\n    targetX: (index % NUM_COLS) * PIECE_SIZE,\n    targetY: Math.floor(index / NUM_COLS) * PIECE_SIZE,\n    initialX: 400 + Math.random() * 50,\n    initialY: 250 + Math.random() * 50,\n    locked: false, // 🔥 เพิ่มตัวแปรเพื่อเช็คว่าถูกล็อคหรือยัง\n    image: `/img/puzzle/piece${index + 1}.png`,\n  }));\n\nexport default function App() {\n  const [pieces, setPieces] = useState(createGrid());\n\n  const handleDragEnd = (event, info, piece) => {\n    const target = pieces.find((p) => p.id === piece.id);\n\n    console.log(`🟢 Piece ${piece.id} Dragged to:`, {\n      draggedX: info.point.x,\n      draggedY: info.point.y,\n      targetX: target.targetX,\n      targetY: target.targetY,\n    });\n\n    if (\n      Math.abs(info.point.x - target.targetX) < PIECE_SIZE * 0.75 &&\n      Math.abs(info.point.y - target.targetY) < PIECE_SIZE * 0.75\n    )\n     {\n      setPieces((prev) =>\n        prev.map((p) =>\n          p.id === piece.id\n            ? { ...p, initialX: target.targetX, initialY: target.targetY, locked: true }\n            : p\n        )\n      );\n    }\n  };\n\n  return (\n    <div className=\"board\" style={{ position: \"relative\", width: \"100vw\", height: \"100vh\" }}>\n      {/* กรอบเป้าหมาย */}\n      {pieces.map((piece) => (\n        <div\n          key={`target-${piece.id}`}\n          className=\"target\"\n          style={{\n            left: piece.targetX,\n            top: piece.targetY,\n            width: PIECE_SIZE,\n            height: PIECE_SIZE,\n            position: \"absolute\",\n            border: \"2px dashed #ccc\",\n          }}\n        />\n      ))}\n\n      {/* ชิ้นจิ๊กซอว์ */}\n      {pieces.map((piece) => (\n        <motion.div\n          key={`piece-${piece.id}`}\n          className=\"piece\"\n          style={{\n            position: \"absolute\",\n            cursor: piece.locked ? \"default\" : \"grab\",\n          }}\n          drag={!piece.locked} // ✅ ล็อคชิ้นส่วนถ้าลากไปวางแล้ว\n          dragElastic={0.5}\n          initial={{ x: piece.initialX, y: piece.initialY }}\n          animate={{ x: piece.initialX, y: piece.initialY }} // ✅ ใช้ค่าที่อัปเดตล่าสุด\n          onPointerDown={(event) => event.preventDefault()} // ป้องกัน Safari ลากรูปออก\n          onDragStart={(event) => event.preventDefault()} // ป้องกันการดึงรูปออกจากเว็บ\n          onDragEnd={(event, info) => handleDragEnd(event, info, piece)}\n        >\n          <img\n            src={piece.image}\n            alt={`piece-${piece.id}`}\n            style={{\n              width: `${PIECE_SIZE}px`, // ✅ กำหนดขนาดเป็นสัดส่วน\n              height: `${PIECE_SIZE}px`,\n              objectFit: \"contain\",\n            }}\n          />\n        </motion.div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}